<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fake Blackjack</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #0f0f0f;
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2em;
    }
    .card {
      display: inline-block;
      padding: 1em;
      margin: 0.5em;
      background: #1f1f1f;
      border: 1px solid #555;
      border-radius: 8px;
      font-size: 1.2em;
    }
    button {
      padding: 0.5em 1em;
      margin: 0.5em;
      font-size: 1em;
      background-color: #28a745;
      border: none;
      border-radius: 5px;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background-color: #218838;
    }
    .result {
      font-size: 1.5em;
      margin-top: 1em;
    }
    #controls {
      margin-top: 1em;
    }
  </style>
</head>
<body>
  <h1>Fake Blackjack</h1>
  <div id="game">
    <div id="player-cards"></div>
    <div id="dealer-cards"></div>
    <div id="controls">
      <button onclick="startGame()">New Game</button>
      <button onclick="hit()">Hit</button>
      <button onclick="stand()">Stand</button>
      <button onclick="doubleDown()">Double</button>
    </div>
    <div class="result" id="result"></div>
  </div>

  <script>
    let playCount = 0;
    let playerCards = [];
    let dealerCards = [];
    let gameInProgress = false;

    function getRandomCard() {
      return Math.floor(Math.random() * 10) + 2; // 2â€“11 range
    }

    function updateDisplay() {
      const playerTotal = playerCards.reduce((a, b) => a + b, 0);
      const dealerTotal = dealerCards.reduce((a, b) => a + b, 0);

      document.getElementById('player-cards').innerHTML = `<strong>You:</strong> ${playerCards.join(', ')} (Total: ${playerTotal})`;
      document.getElementById('dealer-cards').innerHTML = `<strong>Dealer:</strong> ${dealerCards.join(', ')} (Total: ${dealerTotal})`;
    }

    function startGame() {
      playCount++;
      gameInProgress = true;
      playerCards = [getRandomCard(), getRandomCard()];
      dealerCards = [getRandomCard(), getRandomCard()];
      document.getElementById('result').innerText = '';
      updateDisplay();
    }

    function hit() {
      if (!gameInProgress) return;
      playerCards.push(getRandomCard());
      updateDisplay();
      const total = playerCards.reduce((a, b) => a + b, 0);
      if (total > 21) {
        endGame("You bust! Dealer wins.");
      }
    }

    function stand() {
      if (!gameInProgress) return;
      while (dealerCards.reduce((a, b) => a + b, 0) < 17) {
        dealerCards.push(getRandomCard());
      }
      determineOutcome();
    }

    function doubleDown() {
      if (!gameInProgress) return;
      playerCards.push(getRandomCard());
      updateDisplay();
      stand();
    }

    function determineOutcome() {
      const playerTotal = playerCards.reduce((a, b) => a + b, 0);
      const dealerTotal = dealerCards.reduce((a, b) => a + b, 0);

      // Cheat condition: 2 out of 10 chance to auto-win
      if (playCount % 5 === 0) {
        endGame("You win! (Lucky boost!)");
        return;
      }

      if (playerTotal > 21) {
        endGame("You bust! Dealer wins.");
      } else if (dealerTotal > 21 || playerTotal > dealerTotal) {
        endGame("You win!");
      } else if (playerTotal === dealerTotal) {
        endGame("Push (tie).");
      } else {
        endGame("Dealer wins.");
      }
    }

    function endGame(message) {
      document.getElementById('result').innerText = message;
      updateDisplay();
      gameInProgress = false;
    }
  </script>
</body>
</html>
